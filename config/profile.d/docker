dstop() {
	if [ -z "$1" ]; then
		# shellcheck disable=SC2046
		docker stop $(docker ps -a -q)
		return
	fi
	docker stop "$*"
}

dkill() {
	if [ -z "$1" ]; then
		# shellcheck disable=SC2046
		docker kill $(docker ps -a -q)
		return
	fi
	docker kill "$*"
}

drm() {
	if [ -z "$1" ]; then
		# shellcheck disable=SC2046
		docker rm -f $(docker ps -a -q)
		return
	fi
	docker rm -f "$*"
}

dpurge() {
	# shellcheck disable=SC2119
	drm
	echo y | docker system prune -a
}

dstart() {
	if [ -z "$2" ]; then
		docker run -d "$1" sleep infinity
		return
	fi
	docker run -d --name "$2" "$1" sleep infinity
}

djs() { # example for vite: 'djs run dev -- --host 0.0.0.0'
	docker run --rm -u "$(id -u):$(id -g)" -v "$(pwd):/node-app" -w /node-app node:22-slim npm install &&
	docker run --rm -u "$(id -u):$(id -g)" -v "$(pwd):/node-app" -w /node-app -p 3000:3000 -p 5173:5173 node:22-slim npm "$*"
}
